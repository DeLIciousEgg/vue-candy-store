<div class="checkout">
  <p class="orderId">訂單編號：{{ orderId }}</p>
  <form
    class="col-md-6"
    @submit.prevent="payOrder"
  >
    <div class="pageTitle">
      <img src="@/assets/img/sweet.png" />
      <h2>商品資訊</h2>
    </div>
    <table
      class="table mt-4"
      v-if="order.products"
    >
      <thead class="table-secondary">
        <th>品名</th>
        <th>數量</th>
        <th>小計</th>
      </thead>
      <tbody>
        <tr
          v-for="item in order.products"
          :key="item.id"
        >
          <td class="align-middle">{{ item.product.title }}</td>
          <td class="align-middle">{{ item.qty }} {{ item.product.unit }}</td>
          <td class="align-middle text-right">{{ item.final_total }}</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td
            colspan="2"
            class="text-right"
          >總計</td>
          <td class="text-right">{{ order.total }}</td>
        </tr>
      </tfoot>
    </table>

    <div class="pageTitle">
      <img src="@/assets/img/resume.png" />
      <h2>個人資訊</h2>
    </div>
    <table
      class="table mt-4"
      v-if="order.user"
    >
      <tbody>
        <tr>
          <th
            width="150"
            class="text-primary"
          >Email</th>
          <td>{{ order.user.email }}</td>
        </tr>
        <tr>
          <th class="text-primary">姓名</th>
          <td>{{ order.user.name }}</td>
        </tr>
        <tr>
          <th class="text-primary">收件人電話</th>
          <td>{{ order.user.tel }}</td>
        </tr>
        <tr>
          <th class="text-primary">收件人地址</th>
          <td>{{ order.user.address }}</td>
        </tr>
        <tr>
          <th class="text-primary">付款狀態</th>
          <td>
            <span
              v-if="!order.is_paid"
              class="text-danger"
            >尚未付款</span>
            <span
              v-else
              class="text-success"
            >付款完成</span>
          </td>
        </tr>
      </tbody>
    </table>
    <div
      class="text-right"
      v-if="order.is_paid === false"
    >
      <button class="btn btn-outline-accent">付錢付起來</button>
    </div>
  </form>
</div>