(function(t){function n(n){for(var e,o,u=n[0],i=n[1],s=n[2],d=0,p=[];d<u.length;d++)o=u[d],c[o]&&p.push(c[o][0]),c[o]=0;for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&(t[e]=i[e]);f&&f(n);while(p.length)p.shift()();return r.push.apply(r,s||[]),a()}function a(){for(var t,n=0;n<r.length;n++){for(var a=r[n],e=!0,o=1;o<a.length;o++){var u=a[o];0!==c[u]&&(e=!1)}e&&(r.splice(n--,1),t=i(i.s=a[0]))}return t}var e={},o={app:0},c={app:0},r=[];function u(t){return i.p+"js/"+({}[t]||t)+"."+{"chunk-0b0f5528":"87028552","chunk-18cbd9a0":"bc6acc17","chunk-39a7ac38":"dda18fab","chunk-4ffb7f31":"7fd02bbb","chunk-5ab4caa0":"c3120079","chunk-5e6de54f":"dba31f69","chunk-6183d3f2":"cbc8e95a","chunk-7ce5ee79":"32712ef0","chunk-8a99c9b8":"c0b8b7e0","chunk-ae77ab6c":"4fa63b86","chunk-bfff6bca":"da8ae6f7","chunk-e67023e6":"6866661f"}[t]+".js"}function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(t){var n=[],a={"chunk-0b0f5528":1,"chunk-18cbd9a0":1,"chunk-39a7ac38":1,"chunk-4ffb7f31":1,"chunk-5ab4caa0":1,"chunk-5e6de54f":1,"chunk-6183d3f2":1,"chunk-7ce5ee79":1,"chunk-8a99c9b8":1,"chunk-ae77ab6c":1,"chunk-bfff6bca":1,"chunk-e67023e6":1};o[t]?n.push(o[t]):0!==o[t]&&a[t]&&n.push(o[t]=new Promise(function(n,a){for(var e="css/"+({}[t]||t)+"."+{"chunk-0b0f5528":"ef9c9f85","chunk-18cbd9a0":"3d0c595b","chunk-39a7ac38":"eaad786e","chunk-4ffb7f31":"929781b5","chunk-5ab4caa0":"bf06ae40","chunk-5e6de54f":"8b5fefc0","chunk-6183d3f2":"d82593c2","chunk-7ce5ee79":"8b5fefc0","chunk-8a99c9b8":"f02f1128","chunk-ae77ab6c":"4a7d6341","chunk-bfff6bca":"8b5fefc0","chunk-e67023e6":"98e73725"}[t]+".css",o=i.p+e,c=document.getElementsByTagName("link"),r=0;r<c.length;r++){var u=c[r],s=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(s===e||s===o))return n()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){u=d[r],s=u.getAttribute("data-href");if(s===e||s===o)return n()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=n,p.onerror=function(n){var e=n&&n.target&&n.target.src||o,c=new Error("Loading CSS chunk "+t+" failed.\n("+e+")");c.request=e,a(c)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)}).then(function(){o[t]=0}));var e=c[t];if(0!==e)if(e)n.push(e[2]);else{var r=new Promise(function(n,a){e=c[t]=[n,a]});n.push(e[2]=r);var s,d=document.getElementsByTagName("head")[0],p=document.createElement("script");p.charset="utf-8",p.timeout=120,i.nc&&p.setAttribute("nonce",i.nc),p.src=u(t),s=function(n){p.onerror=p.onload=null,clearTimeout(f);var a=c[t];if(0!==a){if(a){var e=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src,r=new Error("Loading chunk "+t+" failed.\n("+e+": "+o+")");r.type=e,r.request=o,a[1](r)}c[t]=void 0}};var f=setTimeout(function(){s({type:"timeout",target:p})},12e4);p.onerror=p.onload=s,d.appendChild(p)}return Promise.all(n)},i.m=t,i.c=e,i.d=function(t,n,a){i.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,n){if(1&n&&(t=i(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var e in t)i.d(a,e,function(n){return t[n]}.bind(null,e));return a},i.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(n,"a",n),n},i.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},i.p="/vue-candy-store/",i.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=n,s=s.slice();for(var p=0;p<s.length;p++)n(s[p]);var f=d;r.push([0,"chunk-vendors"]),a()})({0:function(t,n,a){t.exports=a("56d7")},1674:function(t,n,a){},"3d14":function(t,n,a){"use strict";var e=a("78d6"),o=a.n(e);o.a},"56d7":function(t,n,a){"use strict";a.r(n);a("cadf"),a("551c"),a("097d");var e=a("2b0e"),o=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("div",{attrs:{id:"app"}},[t.loading?a("loading"):t._e(),a("router-view")],1)},c=[],r=function(){var t=this,n=t.$createElement;t._self._c;return t._m(0)},u=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"loading"},[e("img",{staticClass:"ld ld-spin-fast",staticStyle:{"animation-duration":"1.5s"},attrs:{src:a("cfe6")}})])}],i={name:"loading"},s=i,d=(a("67f3"),a("3d14"),a("2877")),p=Object(d["a"])(s,r,u,!1,null,"54810c56",null);p.options.__file="index.vue";var f=p.exports,h={name:"App",components:{loading:f},computed:{loading:function(){return this.$store.state.loading}}},l=h,g=(a("6eeb"),Object(d["a"])(l,o,c,!1,null,null,null));g.options.__file="App.vue";var m=g.exports,v=a("8c4f");e["a"].use(v["a"]);var b=new v["a"]({routes:[{path:"*",redirect:"/"},{path:"/",component:function(){return a.e("chunk-5ab4caa0").then(a.bind(null,"4ef7"))},children:[{path:"",component:function(){return a.e("chunk-0b0f5528").then(a.bind(null,"1fe3"))}},{path:"/search-order",component:function(){return a.e("chunk-39a7ac38").then(a.bind(null,"89a4"))}},{path:"/promotions",component:function(){return a.e("chunk-4ffb7f31").then(a.bind(null,"61af"))}},{path:"/product/:productId",component:function(){return a.e("chunk-18cbd9a0").then(a.bind(null,"bdaa"))}},{path:"/cart",component:function(){return a.e("chunk-ae77ab6c").then(a.bind(null,"ac17"))}},{path:"/checkout/:orderId",component:function(){return a.e("chunk-6183d3f2").then(a.bind(null,"d218"))}}]},{path:"/login",name:"login",component:function(){return a.e("chunk-8a99c9b8").then(a.bind(null,"a512"))}},{path:"/dashboard",name:"dashboard",component:function(){return a.e("chunk-e67023e6").then(a.bind(null,"8884"))},children:[{path:"/admin/product",name:"product",component:function(){return a.e("chunk-bfff6bca").then(a.bind(null,"7d53"))},meta:{requiresAuth:!0}},{path:"/admin/order",name:"order",component:function(){return a.e("chunk-5e6de54f").then(a.bind(null,"0c81"))},meta:{requiresAuth:!0}},{path:"/admin/coupon",name:"coupon",component:function(){return a.e("chunk-7ce5ee79").then(a.bind(null,"f8f7"))},meta:{requiresAuth:!0}}]}],scrollBehavior:function(t,n,a){return{x:0,y:0}}}),O=a("2f62"),_=a("bc3a"),T=a.n(_);e["a"].use(O["a"]);var E={namespaced:!0,state:{products:[],pagination:{}},mutations:{getProduct:function(t,n){t.products=n},getPagination:function(t,n){t.pagination=n}},actions:{PRODUCTS_GET:function(t){var n=t.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/admin/products?page=").concat(a);n("updateLoading",!0,{root:!0}),T.a.get(e).then(function(t){if(n("updateLoading",!1,{root:!0}),!t.data.success)return!1;n("getProduct",t.data.products),n("getPagination",t.data.pagination)})},PRODUCT_ADD:function(t,n){var a=t.dispatch,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/admin/product");T.a.post(e,{data:n}).then(function(t){if(!t.data.success)return!1;a("PRODUCTS_GET"),a("ALERT_SHOW",{isAlert:!0,status:"success",message:t.data.message},{root:!0})})},PRODUCT_EDIT:function(t,n){var a=t.dispatch,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/admin/product/").concat(n.id);T.a.put(e,{data:n}).then(function(t){if(!t.data.success)return!1;a("PRODUCTS_GET"),a("ALERT_SHOW",{isAlert:!0,status:"success",message:t.data.message},{root:!0})})},PRODUCT_REMOVE:function(t,n){var a=t.dispatch,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/admin/product/").concat(n);T.a.delete(e).then(function(t){t.data.success||a("ALERT_SHOW",{isAlert:!0,status:"danger",message:t.data.message},{root:!0}),a("PRODUCTS_GET"),a("ALERT_SHOW",{isAlert:!0,status:"success",message:t.data.message},{root:!0})})}},getters:{products:function(t){return t.products},pagination:function(t){return t.pagination}}};e["a"].use(O["a"]);var k={namespaced:!0,state:{orders:[],pagination:{}},mutations:{getOrder:function(t,n){t.orders=n},getPagination:function(t,n){t.pagination=n}},actions:{ORDER_GET:function(t){var n=t.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/admin/orders?page=").concat(a);n("updateLoading",!0,{root:!0}),T.a.get(e).then(function(t){if(n("updateLoading",!1,{root:!0}),!t.data.success)return!1;n("getOrder",t.data.orders),n("getPagination",t.data.pagination)})},ORDER_EDIT:function(t,n){var a=t.dispatch,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/admin/order/").concat(n.id);T.a.put(e,{data:n}).then(function(t){if(!t.data.success)return!1;a("ORDER_GET"),a("ALERT_SHOW",{isAlert:!0,status:"success",message:t.data.message},{root:!0})})}},getters:{orders:function(t){return t.orders},pagination:function(t){return t.pagination}}};e["a"].use(O["a"]);var A={namespaced:!0,state:{coupons:[],pagination:{}},mutations:{getCoupons:function(t,n){t.coupons=n},getPagination:function(t,n){t.pagination=n}},actions:{COUPONS_GET:function(t){var n=t.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/admin/coupons?page=").concat(a);n("updateLoading",!0,{root:!0}),T.a.get(e).then(function(t){if(n("updateLoading",!1,{root:!0}),!t.data.success)return!1;n("getCoupons",t.data.coupons),n("getPagination",t.data.pagination)})},COUPON_ADD:function(t,n){var a=t.dispatch,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/admin/coupon");T.a.post(e,{data:n}).then(function(t){if(!t.data.success)return!1;a("COUPONS_GET"),a("ALERT_SHOW",{isAlert:!0,status:"success",message:t.data.message},{root:!0})})},COUPON_EDIT:function(t,n){var a=t.dispatch,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/admin/coupon/").concat(n.id);T.a.put(e,{data:n}).then(function(t){if(!t.data.success)return!1;a("COUPONS_GET"),a("ALERT_SHOW",{isAlert:!0,status:"success",message:t.data.message},{root:!0})})},COUPON_REMOVE:function(t,n){var a=t.dispatch,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/admin/coupon/").concat(n);T.a.delete(e).then(function(t){t.data.success||a("ALERT_SHOW",{isAlert:!0,status:"danger",message:t.data.message},{root:!0}),a("COUPONS_GET"),a("ALERT_SHOW",{isAlert:!0,status:"success",message:t.data.message},{root:!0})})}},getters:{coupons:function(t){return t.coupons},pagination:function(t){return t.pagination}}};a("1c4c"),a("ac6a"),a("5df3"),a("4f7f");e["a"].use(O["a"]);var P={namespaced:!0,state:{products:[],pagination:{},currentCategory:"全部商品",product:{}},mutations:{getProducts:function(t,n){t.products=n},getPagination:function(t,n){t.pagination=n},updateCategory:function(t,n){t.currentCategory=n},getProduct:function(t,n){t.product=n}},actions:{PRODUCTS_GET:function(t){var n=t.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/products?page=").concat(a);n("updateLoading",!0,{root:!0}),T.a.get(e).then(function(t){if(n("updateLoading",!1,{root:!0}),!t.data.success)return!1;n("getProducts",t.data.products),n("getPagination",t.data.pagination)})},PRODUCT_GET:function(t,n){var a=t.commit,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/product/").concat(n);a("updateLoading",!0,{root:!0}),T.a.get(e).then(function(t){if(a("updateLoading",!1,{root:!0}),!t.data.success)return!1;a("getProduct",t.data.product)})}},getters:{categories:function(t){var n=new Set;t.products.forEach(function(t){if(!t.category)return!1;n.add(t.category)});var a=Array.from(n);return a.unshift("全部商品"),a},products:function(t){return t.currentCategory&&"全部商品"!==t.currentCategory?t.products.filter(function(n){return n.category===t.currentCategory}):t.products},pagination:function(t){return t.pagination}}};e["a"].use(O["a"]);var C={namespaced:!0,state:{loadingItem:"",carts:[],couponMessage:""},mutations:{updateLoadingItem:function(t,n){t.loadingItem=n},getCarts:function(t,n){t.carts=n},updateCouponMes:function(t,n){t.couponMessage=n}},actions:{CARTS_GET:function(t){var n=t.commit;n("updateLoading",!0,{root:!0});var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/cart");T.a.get(a).then(function(t){if(n("updateLoading",!1,{root:!0}),!t.data.success)return!1;n("getCarts",t.data.data)})},CART_ADD:function(t,n){var a=t.commit,e=t.dispatch;a("updateLoadingItem",n.product_id);var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/cart");T.a.post(o,{data:n}).then(function(t){if(a("updateLoadingItem",""),!t.data.success)return!1;e("CARTS_GET")})},CART_REMOVE:function(t,n){var a=t.commit,e=t.dispatch;a("updateLoading",!0,{root:!0});var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/cart/").concat(n);T.a.delete(o).then(function(t){if(a("updateLoading",!1,{root:!0}),!t.data.success)return!1;e("CARTS_GET")})},COUPON_APPLY:function(t,n){var a=t.commit,e=t.dispatch;a("updateLoading",!0,{root:!0});var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/coupon");T.a.post(o,{data:{code:n}}).then(function(t){if(a("updateLoading",!1,{root:!0}),a("updateCouponMes",t.data.message),!t.data.success)return!1;e("CARTS_GET")})}},getters:{cartItem:function(t){return t.carts.carts},cartCount:function(t,n){return n.cartItem?n.cartItem.length:0},cartTotal:function(t){return t.carts.total},cartFinalTotal:function(t){return t.carts.final_total},couponMessage:function(t){return t.couponMessage}}};e["a"].use(O["a"]);var R={namespaced:!0,state:{order:{}},mutations:{getOrder:function(t,n){t.order=n}},actions:{ORDER_CREATE:function(t,n){var a=t.commit;a("updateLoading",!0,{root:!0});var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/order");return new Promise(function(t){T.a.post(e,{data:n}).then(function(n){if(a("updateLoading",!1,{root:!0}),!n.data.success)return!1;t(n.data)})})},ORDER_GET:function(t,n){var a=t.commit;a("updateLoading",!0,{root:!0});var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/order/").concat(n);return new Promise(function(t){T.a.get(e).then(function(n){a("updateLoading",!1,{root:!0}),t(n.data),a("getOrder",n.data.order)})})},ORDER_PAY:function(t,n){var a=t.commit,e=t.dispatch;a("updateLoading",!0,{root:!0});var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("dandan","/pay/").concat(n);T.a.post(o,n).then(function(t){if(a("updateLoading",!1,{root:!0}),!t.data.success)return!1;e("ORDER_GET",n)})}},getters:{}};e["a"].use(O["a"]);var y=new O["a"].Store({strict:!1,modules:{AdminProductModules:E,AdminOrderModules:k,AdminCouponModules:A,UserProductsModules:P,UserCartModules:C,UserOrderModules:R},state:{loading:!1,alert:{isAlert:!1,status:"",message:""}},mutations:{updateLoading:function(t,n){t.loading=n},alertHandler:function(t,n){t.alert=n}},actions:{ALERT_SHOW:function(t,n){var a=t.commit;a("alertHandler",n),setTimeout(function(){var t={isAlert:!1};a("alertHandler",t)},2e3)},ALERT_CLOSE:function(t,n){var a=t.commit;a("alertHandler",n)}}}),L=(a("4989"),a("a481"),a("c5f6"),function(t){if(t){var n=Number(t);return"$".concat(n.toFixed(0).replace(/./g,function(t,n,a){var e=n&&"."!==t&&(a.length-n)%3===0?", ".concat(t).replace(/\s/g,""):t;return e}))}}),S=function(t){if(t){var n=new Date(1e3*t);return n.toLocaleDateString()}},x=a("427f"),D=a.n(x),w=a("7bb1");e["a"].config.productionTip=!1,T.a.defaults.withCredentials=!0,e["a"].filter("currency",L),e["a"].filter("timestamp",S),w["a"].localize("zh_TW",D.a),e["a"].use(w["b"],{locale:"zh_TW"}),new e["a"]({router:b,store:y,render:function(t){return t(m)}}).$mount("#app"),b.beforeEach(function(t,n,a){if(t.meta.requiresAuth){var e="".concat("https://vue-course-api.hexschool.io","/api/user/check");T.a.post(e).then(function(t){t.data.success?a():a({path:"/login"})}).catch(function(t){console.log(t)})}else a()})},"67f3":function(t,n,a){"use strict";var e=a("cb4d"),o=a.n(e);o.a},"6eeb":function(t,n,a){"use strict";var e=a("1674"),o=a.n(e);o.a},"78d6":function(t,n,a){},cb4d:function(t,n,a){},cfe6:function(t,n,a){t.exports=a.p+"img/candies.ecd7c320.png"}});
//# sourceMappingURL=app.491f4706.js.map